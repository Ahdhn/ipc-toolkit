
.. _program_listing_file_src_barrier_adaptive_stiffness.hpp:

Program Listing for File adaptive_stiffness.hpp
===============================================

|exhale_lsh| :ref:`Return to documentation for file <file_src_barrier_adaptive_stiffness.hpp>` (``src/barrier/adaptive_stiffness.hpp``)

.. |exhale_lsh| unicode:: U+021B0 .. UPWARDS ARROW WITH TIP LEFTWARDS

.. code-block:: cpp

   // Fucntions for computing the initial and updated barrier stiffnesses.
   
   #pragma once
   
   #include <Eigen/Core>
   
   #include <ipc/collision_constraint.hpp>
   
   namespace ipc {
   
   double initial_barrier_stiffness(
       double bbox_diagonal,
       double dhat,
       double average_mass,
       const Eigen::VectorXd& grad_energy,
       const Eigen::VectorXd& grad_barrier,
       double& max_barrier_stiffness,
       double min_barrier_stiffness_scale = 1e11,
       double dmin = 0);
   
   void update_barrier_stiffness(
       double prev_min_distance,
       double min_distance,
       double max_barrier_stiffness,
       double& barrier_stiffness,
       double bbox_diagonal,
       double dhat_epsilon_scale = 1e-9,
       double dmin = 0);
   
   void update_barrier_stiffness(
       const Constraints& constraint_set,
       const Eigen::MatrixXd& V,
       const Eigen::MatrixXi& E,
       const Eigen::MatrixXi& F,
       double prev_min_distance,
       double& min_distance,
       double max_barrier_stiffness,
       double& barrier_stiffness,
       double dhat_epsilon_scale = 1e-9,
       double dmin = 0);
   
   } // namespace ipc
